# 128. Longest Consecutive Sequence

Given an unsorted array of integers, find the length of the longest consecutive elements sequence.

Your algorithm should run in O(*n*) complexity.

**Example:**

```
Input: [100, 4, 200, 1, 3, 2]
Output: 4
Explanation: The longest consecutive elements sequence is [1, 2, 3, 4]. Therefore its length is 4.
```



## Solution

setçš„inæŸ¥æ‰¾å¤æ‚åº¦æ˜¯O(1)ï¼Œlistçš„inæŸ¥æ‰¾å¤æ‚åº¦æ˜¯O(n)ã€‚

æ‰€ä»¥æ˜¯ä¸æ˜¯æŠŠlistè½¬æ¢æˆsetçš„æ—¶é—´å·®å¼‚éžå¸¸å¤§ï¼Œæµ‹è¯•æ•°æ®æ¥çœ‹çš„è¯å¤§æ¦‚æ˜¯100å€çš„æ•°é‡çº§:

| Time Submitted    | Status                                                       | Runtime | Language |
| ----------------- | ------------------------------------------------------------ | ------- | -------- |
| a few seconds ago | [Accepted](https://leetcode.com/submissions/detail/204006826/) | 20 ms   | python   |
| a few seconds ago | [Accepted](https://leetcode.com/submissions/detail/204006784/) | 1052 ms | python   |

## Code

è‡ªå·±äºŒåè¡Œçš„ï¼ˆç©ºé—´å¤æ‚åº¦O(n)ï¼‰ä»£ç å°±ä¸æ”¾äº†> <ï¼Œè¿™ä¸ªæ–¹æ³•æ— æ•Œç®€å•ã€‚

æœ‰ä¸¤ä¸ªtips:

- ç¬¬ä¸€æ˜¯è½¬åŒ–æˆsetè®©æ¯æ¬¡æŸ¥æ‰¾éƒ½O(1)
- ç¬¬äºŒæ˜¯ç¡®å®šå½“å‰å…ƒç´ æ˜¯ä¸€ä¸ªè¿žç»­åºåˆ—çš„ç¬¬ä¸€ä¸ªæ•°å­—å†è¿›è¡Œè®¡ç®—
- - `if x-1 not in nums`ðŸ‘ˆè¿™ä¸€è¡Œã€‚

```python
class Solution(object):
    def longestConsecutive(self, nums):
        """
        :type nums: List[int]
        :rtype: int
        """

        nums = set(nums)
        result = 0
        for x in nums:
            if x-1 not in nums:
                y = x + 1
                while y in nums:
                    y += 1
                result = max(result,y-x)
        return result
```



## Code2

```python
class Solution(object):
    def longestConsecutive(self, nums):
        """
        :type nums: List[int]
        :rtype: int
        """
        length = len(nums)
        if length == 0:
            return 0
        res = 0
        count = 0
        nums.sort()
        for i in range(length):
            if i == 0:
                count += 1
            else:
                if nums[i] == nums[i-1]:
                    continue
                elif nums[i] != nums[i-1]+1:
                    count = 1
                else:
                    count += 1
            res = max(res, count)
        return res
```

